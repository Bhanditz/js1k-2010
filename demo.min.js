d=document;M=Math;R=M.round;W=976;H=336;e=d.body.children.c;c=e.getContext('2d');e.width=W;e.height=H;c.font='16px sans';g=c.createLinearGradient(l=t=f=0,0,0,H);g.addColorStop(0,'#E83');g.addColorStop(1,'#FD6');function i(){l=R(f/50);t=M.max(t,l);o=[{x:j=f=v=0,y:200,w:W},{x:0,y:-220,w:W,n:r=1}];y=150;s=10}i();d.onkeydown=function(){if(r==0)j=5};d.onkeyup=function(){j=0};function m(n,x){return R(M.random()*(x-n))+n}setInterval(function(){c.fillStyle=g;c.fillRect(0,0,r=W,H);if(j>0){v-=3;r=1;j--}v++;y+=v;for(b in o){b=o[b];b.x-=s;c.fillStyle=(b.b)?'#444':'#000';c.fillRect(b.x,b.y,b.w,H);if(40>b.x&&40<b.x+b.w&&y>b.y&&y<b.y+H){if(y-v<=b.y){y=b.y;r=0;v=0}else{if(!b.b){i();break}else s*=0.8}}if(y>H){i();break}if(!b.n&&b.x+b.w<970){o.push(n={x:b.n=W+m(0,22*s),y:b.y-m(-40,40),w:m(200,999)});if(!m(0,10))o.push({x:n.x,y:n.y-420,w:n.w,n:1});for(z=m(-3,3);z-->0;)o.unshift({x:m(n.x,n.x+n.w-20),y:n.y-20,w:20,n:1,b:1})}}c.fillRect(40,y-10,10,10);c.fillText('Hi '+t+'m Last '+l+'m | '+R((f+=s+=0.05)/50)+'m',750,20)},30);
